#####################
# top level configs #
#####################

[user]
    name = Bradley Oesch
    email = bradley.oesch@gmail.com

[github]
    user = bradleyoesch

####################
# standard configs #
####################

[diff]
    colorMoved = default
    renames = copies
    indentHeuristic = true

[fetch]
    prune = true

[grep]
    lineNumber = true

[help]
    autocorrect = 1

[init]
    defaultBranch = main

[merge]
    conflictstyle = diff3

[pager]
    branch = false

[push]
    default = simple
    followTags = true

###########
# aliases #
###########

[alias]
	aliases = !git config --get-regexp 'alias.*' | colrm 1 6 | sed 's/[ ]/ = /' | sort -u | less

    omr = open-mr
    # changes stuff
    co = checkout
    diffc = diff --cached
    patch = !git --no-pager diff --no-color
    st = status

	# branch stuff
    br = branch
    brv = branch --format='%(HEAD) %(if)%(HEAD)%(then)%(color:green)%(end)%(refname:short)%(if)%(HEAD)%(then)%(else)%(color:dim)%(end)%(color:white) - %(contents:subject) %(color:cyan)[%(authorname)] %(color:yellow)(%(committerdate:relative))'
    cb = !git branch --merged | egrep -v '(^\\*|master|main)' | xargs git branch -d

    # commit stuff
    cm = commit -m
    cmm = commit --amend --no-edit
    cnm = commit -n -m
    tmp = !git add -A && git commit -n -m 'chore: tmp'
    undo = reset HEAD~

    # squash stuff
    asq = "!sh -c 'git rebase --autosquash HEAD~${1:-5}' -"
    autosquash = rebase --autosquash
    cmf = commit --fixup=HEAD
    cmsq = commit --fixup=HEAD
    rbi = "!sh -c 'git rebase -i HEAD~${1}' -"
    sq = commit --fixup=HEAD

    # rebase stuff
    rba = rebase --abort
    rbc = rebase --continue

    # cherry pick stuff
    cpc = cherry-pick
    cpca = cherry-pick --abort
    cpcc = cherry-pick --continue

    # log stuff
    # with filenames and +/-
    ls = log --pretty=format:'%C(yellow)%h %C(blue bold)%ad %C(reset)%C(auto)%d %C(reset)%s%C(green) [%cn]' --decorate --date=short --stat
    # one line each, short
    ll = log --pretty=format:'%C(yellow)%h %C(blue bold)%ad %C(reset)%C(auto)%d %C(reset)%s%C(green) [%cn]' --decorate --date=short

    # plugins etc
    m = machete

# https://github.com/dandavison/delta
[core]
    pager = delta
[interactive]
    diffFilter = delta --color-only
[delta]
    navigate = true  # use n and N to move between diff sections

# https://github.com/sjurba/rebase-editor
[sequence]
    editor = rebase-editor

# [color]
#     ui = auto
# [color "branch"]
#     current = yellow reverse
#     local = yellow
#     remote = green
# [color "diff"]
#     meta = yellow bold
#     frag = magenta bold
#     old = red bold
#     new = green bold
# [color "status"]
#     added = yellow
#     changed = green
#     untracked = cyan
# [color "diff-highlight"]
#     oldNormal = red bold
#     oldHighlight = red bold 52
#     newNormal = green bold
#     newHighlight = green bold 22
